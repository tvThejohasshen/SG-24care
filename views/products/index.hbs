{{#extends "base"}}


{{#block "content"}}
<h1>All Products</h1>

<h2>Search</h2>
<form method="GET">
    {{{searchForm}}}
    <input type="submit" class="btn btn-primary mt-3"/> 
</form>

<table class="table">
    <thead>
        <th>
            Product ID
        </th>
        <th>
            Name
        </th>
        <th>
            Cost
        </th>
        <th>
            Description
        </th>
        <th>
            Category
        </th>
        <th>
            Tags
        </th>
        <th></th>
    </thead>
    {{#each products}}
    <tr>
        <td>
            {{this.id}}
        </td>
        <td>
            {{this.name}}
        </td>
        <td>
            {{this.cost}}
        </td>
        <td>
            {{this.description}}
        </td>
        <td>
            {{this.category.name}}
        </td>
        <td>
            {{#each this.tags}}
            <span class="badge bg-primary">
                {{this.name}}
            </span>
            {{/each}}
        </td>
        <td>
            <a href="/products/update-product/{{this.id}}"
               class="btn btn-primary btn-sm">Update</a>
            <a href="/products/delete-product/{{this.id}}"
               class="btn btn-danger">Delete</a>
            <a href="/cart/{{this.id}}/add"
               class="btn btn-success btn-sm">Add To Cart</a>
        </td>
    </tr>
    {{/each}}
</table>

{{/block}}

{{/extends}}